<juquinha-field-container
  [iconLeft]="iconLeft()"
  [iconRight]="iconRight()"
  [disabled]="disabled()"
  [label]="label()"
  [subLabel]="subLabel()"
  [hintText]="hintText()"
  [fieldId]="id()"
  [active]="focused() || value"
  [mode]="config.fieldMode ?? 'static'"
  [tooltipTitle]="tooltipTitle()"
  [tooltipText]="tooltipText()"
  [tooltipIcon]="tooltipIcon()"
  [tooltipPosition]="tooltipPosition()"
>
  <div class="field-wrapper">
    <input
      #inputElement
      class="field"
      [id]="id()"
      [value]="value"
      [type]="inputType()"
      [placeholder]="
        config.fieldMode === 'static' || focused() ? placeholder() : ''
      "
      [mask]="mask()"
      [thousandSeparator]="thousandSeparator()"
      [prefix]="prefix()"
      [suffix]="suffix()"
      [separatorLimit]="separatorLimit()"
      [showMaskTyped]="showMaskTyped()"
      [autocomplete]="autocomplete()"
      [ngClass]="getDefaultStylesClass()"
      [tabIndex]="disabled() ? -1 : 1"
      [maxLength]="maxLength()"
      (keyup)="handleKeyPressed($event)"
      (focus)="onHandleFocus()"
      (input)="onInput($event)"
      (blur)="handleBlur()"
    />

    @if (showPasswordToggle()) {
    <juquinha-icon
      [name]="passwordToggleIcon()"
      size="18px"
      class="password-toggle-icon"
      (click)="togglePasswordVisibility()"
      [attr.aria-label]="passwordVisible() ? 'Ocultar senha' : 'Mostrar senha'"
      [attr.title]="passwordVisible() ? 'Ocultar senha' : 'Mostrar senha'"
    />
    }
  </div>

  @if (showErrorMessage()) {
  <div class="field-error">
    <small class="field-error__text">{{ getErrorMessage() }}</small>
  </div>
  }
</juquinha-field-container>
